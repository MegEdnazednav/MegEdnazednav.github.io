{"code":"(this[\"webpackJsonpreddit-widget\"]=this[\"webpackJsonpreddit-widget\"]||[]).push([[0],{11:function(t,e,i){\"use strict\";i.r(e);var c=i(1),n=i.n(c),r=i(4),d=i.n(r),s=i(2),a=(i(9),i(0));function u(t){var e=t.data,i=e.title,c=e.url,n=e.id;return Object(a.jsx)(\"div\",{className:\"stupid_widget__post\",children:Object(a.jsx)(\"a\",{href:c,className:\"stupid_widget__title\",target:\"_blank\",rel:\"noopener noreferrer\",children:Object(a.jsx)(\"img\",{src:c,alt:i,className:\"stupid_widget__img\"})})},n)}function o(t){return!t.data.stickied}var l=function(t){var e=t.domElement.getAttribute(\"data-subreddit\"),i=Object(c.useState)(),n=Object(s.a)(i,2),r=n[0],d=n[1],l=Object(c.useState)(\"\"),j=Object(s.a)(l,2),h=j[0],b=j[1],_=Object(c.useState)([]),f=Object(s.a)(_,2),p=f[0],g=f[1];return Object(c.useEffect)((function(){d(!0),fetch(\"https://www.reddit.com/r/\".concat(e,\".json\")).then((function(t){return t.json()})).then((function(t){d(!1),g(t.data.children.slice(0,10))})).catch((function(t){console.log(t),d(!1),b(\"error fetching from reddit\")}))}),[e]),Object(a.jsxs)(\"div\",{className:\"stupid_widget__app\",children:[Object(a.jsx)(\"h1\",{className:\"stupid_widget__header\",children:\"Cute dog pictures\"}),Object(a.jsxs)(\"div\",{className:\"stupid_widget__inner\",children:[r&&\"Loading...\",h&&h,!!p.length&&p.filter(o).map(u)]})]})};document.querySelectorAll(\".stupid_widget\").forEach((function(t){d.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(l,{domElement:t})}),t)}))},9:function(t,e,i){}},[[11,1,2]]]);","name":"static/js/main.6d8ceabe.chunk.js","map":{"version":3,"sources":["static/js/main.6d8ceabe.chunk.js"],"names":["this","push","11","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","jsx_runtime","renderPost","post","_post$data","data","title","url","id","Object","className","children","href","target","rel","src","alt","nonStickiedOnly","stickied","src_App","_ref","subreddit","domElement","getAttribute","_useState","_useState2","loading","setLoading","_useState3","_useState4","error","setError","_useState5","_useState6","setData","fetch","concat","then","response","json","slice","catch","e","console","log","length","filter","map","document","querySelectorAll","forEach","Div","a","render","StrictMode","9","exports"],"mappings":"CAACA,KAAK,6BAA+BA,KAAK,8BAAgC,IAAIC,KAAK,CAAC,CAAC,GAAG,CAElFC,GACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBC,EAAEF,GAGtB,IAAIG,EAAQF,EAAoB,GAC5BG,EAA6BH,EAAoBI,EAAEF,GAGnDG,EAAYL,EAAoB,GAChCM,EAAiCN,EAAoBI,EAAEC,GAGvDE,EAAgBP,EAAoB,GAMpCQ,GAHMR,EAAoB,GAGZA,EAAoB,IAItC,SAASS,EAAWC,GAAM,IAAIC,EAAWD,EAAKE,KAAKC,EAAMF,EAAWE,MAAMC,EAAIH,EAAWG,IAAIC,EAAGJ,EAAWI,GAAG,OAAmBC,OAAOR,EAAiB,IAAxBQ,CAA2B,MAAM,CAACC,UAAU,sBAAsBC,SAAsBF,OAAOR,EAAiB,IAAxBQ,CAA2B,IAAI,CAACG,KAAKL,EAAIG,UAAU,uBAAuBG,OAAO,SAASC,IAAI,sBAAsBH,SAAsBF,OAAOR,EAAiB,IAAxBQ,CAA2B,MAAM,CAACM,IAAIR,EAAIS,IAAIV,EAAMI,UAAU,0BAA0BF,GAC3b,SAASS,EAAgBd,GAAM,OAAOA,EAAKE,KAAKa,SACyrB,IAAIC,EADnrB,SAAiBC,GAAM,IAAmCC,EAApBD,EAAKE,WAAoCC,aAAa,kBAAsBC,EAAUf,OAAOd,EAAgB,SAAvBc,GAA4BgB,EAAWhB,OAAOT,EAA+B,EAAtCS,CAAyCe,EAAU,GAAGE,EAAQD,EAAW,GAAGE,EAAWF,EAAW,GAAOG,EAAWnB,OAAOd,EAAgB,SAAvBc,CAA0B,IAAIoB,EAAWpB,OAAOT,EAA+B,EAAtCS,CAAyCmB,EAAW,GAAGE,EAAMD,EAAW,GAAGE,EAASF,EAAW,GAAOG,EAAWvB,OAAOd,EAAgB,SAAvBc,CAA0B,IAAIwB,EAAWxB,OAAOT,EAA+B,EAAtCS,CAAyCuB,EAAW,GAAG3B,EAAK4B,EAAW,GAAGC,EAAQD,EAAW,GACpT,OADuTxB,OAAOd,EAAiB,UAAxBc,EAA2B,WAC/oBkB,GAAW,GAAMQ,MAAM,4BAA4BC,OAAOf,EAAU,UAAUgB,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAAShC,GAAMsB,GAAW,GAAOO,EAAQ7B,EAAKA,KAAKM,SAAS6B,MAAM,EAAE,QAAQC,OAAM,SAASC,GAAGC,QAAQC,IAAIF,GAAGf,GAAW,GAAOI,EAAS,mCAAmC,CAACV,IAA+BZ,OAAOR,EAAkB,KAAzBQ,CAA4B,MAAM,CAACC,UAAU,qBAAqBC,SAAS,CAAcF,OAAOR,EAAiB,IAAxBQ,CAA2B,KAAK,CAACC,UAAU,wBAAwBC,SAAS,sBAAmCF,OAAOR,EAAkB,KAAzBQ,CAA4B,MAAM,CAACC,UAAU,uBAAuBC,SAAS,CAACe,GAAS,aAAaI,GAAOA,IAAQzB,EAAKwC,QAAQxC,EAAKyC,OAAO7B,GAAiB8B,IAAI7C,UAG1qB8C,SAASC,iBAAiB,kBAC9BC,SAAQ,SAASC,GAAKpD,EAAkBqD,EAAEC,OAAoB5C,OAAOR,EAAiB,IAAxBQ,CAA2Bb,EAAcwD,EAAEE,WAAW,CAAC3C,SAAsBF,OAAOR,EAAiB,IAAxBQ,CAA2BU,EAAQ,CAACG,WAAW6B,MAAQA,OAIvMI,EACA,SAAUhE,EAAQiE,EAAS/D,MAM/B,CAAC,CAAC,GAAG,EAAE"},"input":"(this[\"webpackJsonpreddit-widget\"] = this[\"webpackJsonpreddit-widget\"] || []).push([[0],{\n\n/***/ 11:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(4);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/App.js\n// Render each post\nfunction renderPost(post){var _post$data=post.data,title=_post$data.title,url=_post$data.url,id=_post$data.id;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stupid_widget__post\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:url,className:\"stupid_widget__title\",target:\"_blank\",rel:\"noopener noreferrer\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:url,alt:title,className:\"stupid_widget__img\"})})},id);}// Filter, since reddit always returns stickied posts up top\nfunction nonStickiedOnly(post){return!post.data.stickied;}function App_App(_ref){var domElement=_ref.domElement;var subreddit=domElement.getAttribute(\"data-subreddit\");var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),data=_useState6[0],setData=_useState6[1];Object(react[\"useEffect\"])(function(){// Fetch data from reddit\nsetLoading(true);fetch(\"https://www.reddit.com/r/\".concat(subreddit,\".json\")).then(function(response){return response.json();}).then(function(data){setLoading(false);setData(data.data.children.slice(0,10));}).catch(function(e){console.log(e);setLoading(false);setError('error fetching from reddit');});},[subreddit]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stupid_widget__app\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"stupid_widget__header\",children:\"Cute dog pictures\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"stupid_widget__inner\",children:[loading&&\"Loading...\",error&&error,!!data.length&&data.filter(nonStickiedOnly).map(renderPost)]})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\n// Find all widget divs\nvar WidgetDivs=document.querySelectorAll('.stupid_widget');// Inject our React App into each\nWidgetDivs.forEach(function(Div){react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{domElement:Div})}),Div);});\n\n/***/ }),\n\n/***/ 9:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[11,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/meg/code/stupid-widget-try/src/App.js","/Users/meg/code/stupid-widget-try/src/index.js","/Users/meg/code/stupid-widget-try/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/meg/code/stupid-widget-try/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/meg/code/stupid-widget-try/node_modules/postcss-loader/src/index.js??postcss!/Users/meg/code/stupid-widget-try/src/App.css"],"names":["renderPost","post","data","title","url","id","nonStickiedOnly","stickied","App","domElement","subreddit","getAttribute","useState","loading","setLoading","error","setError","setData","useEffect","fetch","then","response","json","children","slice","catch","e","console","log","length","filter","map","WidgetDivs","document","querySelectorAll","forEach","Div","ReactDOM","render"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA,QAASA,WAAT,CAAoBC,IAApB,CAAyB,gBACcA,IADd,CACfC,IADe,CACPC,KADO,YACPA,KADO,CACAC,GADA,YACAA,GADA,CACKC,EADL,YACKA,EADL,CAGvB,mBACE,kCAAK,SAAS,CAAC,qBAAf,uBACE,gCAAG,IAAI,CAAED,GAAT,CAAc,SAAS,CAAC,sBAAxB,CAA+C,MAAM,CAAC,QAAtD,CAA+D,GAAG,CAAC,qBAAnE,uBACE,kCAAK,GAAG,CAAEA,GAAV,CAAe,GAAG,CAAED,KAApB,CAA2B,SAAS,CAAC,oBAArC,EADF,EADF,EAA0CE,EAA1C,CADF,CAOD,CAED;AACA,QAASC,gBAAT,CAAyBL,IAAzB,CAA8B,CAC5B,MAAO,CAACA,IAAI,CAACC,IAAL,CAAUK,QAAlB,CACD,CAED,QAASC,QAAT,MAA6B,IAAdC,WAAc,MAAdA,UAAc,CAC3B,GAAMC,UAAS,CAAGD,UAAU,CAACE,YAAX,CAAwB,gBAAxB,CAAlB,CAD2B,cAEGC,yBAAQ,EAFX,kEAEpBC,OAFoB,eAEXC,UAFW,8BAGDF,yBAAQ,CAAC,EAAD,CAHP,mEAGpBG,KAHoB,eAGbC,QAHa,8BAIHJ,yBAAQ,CAAC,EAAD,CAJL,mEAIpBV,IAJoB,eAIde,OAJc,eAM3BC,0BAAS,CAAC,UAAM,CACd;AACAJ,UAAU,CAAC,IAAD,CAAV,CACAK,KAAK,oCAA6BT,SAA7B,UAAL,CACGU,IADH,CACQ,SAACC,QAAD,QAAcA,SAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAAClB,IAAD,CAAU,CACdY,UAAU,CAAC,KAAD,CAAV,CACAG,OAAO,CAACf,IAAI,CAACA,IAAL,CAAUqB,QAAV,CAAmBC,KAAnB,CAAyB,CAAzB,CAA4B,EAA5B,CAAD,CAAP,CACD,CALH,EAMGC,KANH,CAMS,SAACC,CAAD,CAAO,CACZC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACAZ,UAAU,CAAC,KAAD,CAAV,CACAE,QAAQ,CAAC,4BAAD,CAAR,CACD,CAVH,EAWD,CAdQ,CAcN,CAAEN,SAAF,CAdM,CAAT,CAgBA,mBACE,mCAAK,SAAS,CAAC,oBAAf,wBACE,iCAAI,SAAS,CAAC,uBAAd,+BADF,cAIE,mCAAK,SAAS,CAAC,sBAAf,WACGG,OAAO,EAAI,YADd,CAEGE,KAAK,EAAIA,KAFZ,CAGG,CAAC,CAACb,IAAI,CAAC2B,MAAP,EAAiB3B,IAAI,CAAC4B,MAAL,CAAYxB,eAAZ,EAA6ByB,GAA7B,CAAiC/B,UAAjC,CAHpB,GAJF,GADF,CAYD,CAEcQ,mDAAf,E;;ACrDA;AACA,GAAMwB,WAAU,CAAGC,QAAQ,CAACC,gBAAT,CAA0B,gBAA1B,CAAnB,CAEA;AACAF,UAAU,CAACG,OAAX,CAAmB,SAAAC,GAAG,CAAI,CACxBC,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,OAAD,EAAK,UAAU,CAAEF,GAAjB,EADF,EADF,CAIEA,GAJF,EAMD,CAPD,E;;;;;;;ACRA,uC","file":"x","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './App.css';\n\n// Render each post\nfunction renderPost(post){\n  const { data: { title, url, id } } = post\n\n  return (\n    <div className=\"stupid_widget__post\" key={id}>\n      <a href={url} className=\"stupid_widget__title\" target=\"_blank\" rel=\"noopener noreferrer\">\n        <img src={url} alt={title} className=\"stupid_widget__img\" />\n      </a>\n    </div>\n  )\n}\n\n// Filter, since reddit always returns stickied posts up top\nfunction nonStickiedOnly(post){\n  return !post.data.stickied\n}\n\nfunction App({ domElement }) {\n  const subreddit = domElement.getAttribute(\"data-subreddit\")\n  const [loading, setLoading] = useState();\n  const [error, setError] = useState('');\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    // Fetch data from reddit\n    setLoading(true)\n    fetch(`https://www.reddit.com/r/${subreddit}.json`)\n      .then((response) => response.json())\n      .then((data) => {\n        setLoading(false);\n        setData(data.data.children.slice(0, 10));\n      })\n      .catch((e) => {\n        console.log(e)\n        setLoading(false);\n        setError('error fetching from reddit');\n      });\n  }, [ subreddit ])\n\n  return (\n    <div className=\"stupid_widget__app\">\n      <h1 className=\"stupid_widget__header\">\n        Cute dog pictures\n      </h1>\n      <div className=\"stupid_widget__inner\">\n        {loading && \"Loading...\"}\n        {error && error}\n        {!!data.length && data.filter(nonStickiedOnly).map(renderPost)}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// Find all widget divs\nconst WidgetDivs = document.querySelectorAll('.stupid_widget')\n\n// Inject our React App into each\nWidgetDivs.forEach(Div => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <App domElement={Div} />\n    </React.StrictMode>,\n    Div\n  );\n})\n","// extracted by mini-css-extract-plugin"]}}